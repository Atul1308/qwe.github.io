(("undefined"!=typeof self?self:this).webpackJsonp__wix_challenges_web_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_challenges_web_ooi||[]).push([[641],{37012:(e,t,n)=>{var a={"./messages-tpa_ar.json":[27224,7224],"./messages-tpa_bg.json":[24216,4216],"./messages-tpa_ca.json":[76599,6599],"./messages-tpa_cs.json":[30241,241],"./messages-tpa_da.json":[69896,7515],"./messages-tpa_de.json":[29764,9764],"./messages-tpa_el.json":[15186,5186],"./messages-tpa_en.json":[28512,8512],"./messages-tpa_es.json":[98903,8903],"./messages-tpa_fi.json":[62906,2906],"./messages-tpa_fr.json":[70851,851],"./messages-tpa_he.json":[49224,9224],"./messages-tpa_hi.json":[96671,9052],"./messages-tpa_hr.json":[53345,3345],"./messages-tpa_hu.json":[89112,9112],"./messages-tpa_id.json":[54830,4830],"./messages-tpa_it.json":[36958,6958],"./messages-tpa_ja.json":[71294,1294],"./messages-tpa_ko.json":[62133,2133],"./messages-tpa_lt.json":[27391,7391],"./messages-tpa_lv.json":[51705,1705],"./messages-tpa_ms.json":[72815,2815],"./messages-tpa_nl.json":[65529,5529],"./messages-tpa_no.json":[74604,4604],"./messages-tpa_pl.json":[65531,5531],"./messages-tpa_pt.json":[34739,4739],"./messages-tpa_ro.json":[55568,5568],"./messages-tpa_ru.json":[50794,794],"./messages-tpa_sk.json":[85961,5961],"./messages-tpa_sl.json":[16832,6832],"./messages-tpa_sv.json":[2330,2330],"./messages-tpa_th.json":[96803,6803],"./messages-tpa_tl.json":[74063,4063],"./messages-tpa_tr.json":[30149,149],"./messages-tpa_uk.json":[50335,335],"./messages-tpa_vi.json":[71594,1594],"./messages-tpa_zh.json":[33377,3377]};function s(e){if(!n.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return n.e(t[1]).then(()=>n.t(s,19))}s.keys=()=>Object.keys(a),s.id=37012,e.exports=s},90096:(e,t,n)=>{var a={"./messages_ar.json":[53181,5562],"./messages_bg.json":[39678,9678],"./messages_ca.json":[84969,4969],"./messages_cs.json":[30943,943],"./messages_da.json":[42350,2350],"./messages_de.json":[11186,1186],"./messages_el.json":[81416,1416],"./messages_en.json":[28154,8154],"./messages_es.json":[67497,7497],"./messages_fi.json":[52476,95],"./messages_fr.json":[38193,8193],"./messages_he.json":[63246,3246],"./messages_hi.json":[62570,189],"./messages_hr.json":[97619,7619],"./messages_hu.json":[45374,5374],"./messages_id.json":[66252,6252],"./messages_it.json":[72988,2988],"./messages_ja.json":[63192,3192],"./messages_ko.json":[44755,4755],"./messages_lt.json":[92981,2981],"./messages_lv.json":[2779,2779],"./messages_ms.json":[20753,753],"./messages_nl.json":[35035,5035],"./messages_no.json":[13674,3674],"./messages_pl.json":[20089,89],"./messages_pt.json":[99873,9873],"./messages_ro.json":[1222,1222],"./messages_ru.json":[37484,7484],"./messages_sk.json":[43575,3575],"./messages_sl.json":[93754,3754],"./messages_sv.json":[24608,4608],"./messages_th.json":[91281,1281],"./messages_tl.json":[69893,9893],"./messages_tr.json":[81231,1231],"./messages_uk.json":[6817,6817],"./messages_vi.json":[4364,4364],"./messages_zh.json":[54643,4643]};function s(e){if(!n.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return n.e(t[1]).then(()=>n.t(s,19))}s.keys=()=>Object.keys(a),s.id=90096,e.exports=s},63670:(e,t,n)=>{var a={"./messages_ar.json":[94296,4296],"./messages_bg.json":[91288,1288],"./messages_ca.json":[60023,23],"./messages_cs.json":[97313,7313],"./messages_da.json":[53320,3320],"./messages_de.json":[13188,3188],"./messages_el.json":[98610,8610],"./messages_en.json":[11936,1936],"./messages_es.json":[82327,2327],"./messages_fi.json":[29978,9978],"./messages_fr.json":[37923,7923],"./messages_he.json":[32648,2648],"./messages_hi.json":[2476,2476],"./messages_hr.json":[36769,6769],"./messages_hu.json":[56184,6184],"./messages_id.json":[38254,8254],"./messages_it.json":[20382,382],"./messages_ja.json":[54718,4718],"./messages_ko.json":[45557,5557],"./messages_lt.json":[94463,4463],"./messages_lv.json":[35129,5129],"./messages_ms.json":[56239,6239],"./messages_nl.json":[48953,8953],"./messages_no.json":[58028,8028],"./messages_pl.json":[48955,8955],"./messages_pt.json":[18163,8163],"./messages_ro.json":[38992,8992],"./messages_ru.json":[34218,4218],"./messages_sk.json":[69385,9385],"./messages_sl.json":[256,256],"./messages_sv.json":[85754,5754],"./messages_th.json":[80227,227],"./messages_tl.json":[79868,7487],"./messages_tr.json":[13573,3573],"./messages_uk.json":[33759,3759],"./messages_vi.json":[55018,5018],"./messages_zh.json":[16801,6801]};function s(e){if(!n.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return n.e(t[1]).then(()=>n.t(s,19))}s.keys=()=>Object.keys(a),s.id=63670,e.exports=s},67417:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});let a=[{id:"3e78f9af-b258-40ff-90fe-0449f208799f",source:{id:"839122c3-fe73-448a-b874-02e67ad3d552",settings:{general:{description:{title:"üöÄ Getting Started",details:'{"blocks":[{"key":"5p2im","text":"‚ùå What not to eat","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":2,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"8g4nq","text":"Anything with refined sugar is off the table.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"2um4k","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"6r49t","text":"This includes the obvious: no candy, chocolate, desserts or sugar!","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"133q3","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"aqgcv","text":"There‚Äôs also the less obvious: nearly any sauce, salad dressing or packaged food has sugar in it. Check labels, you‚Äôre definitely in for a surprise.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"50ume","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"7o0uj","text":"‚ÄúNatural‚Äù sugars are just a rose by another name. This includes honey, agave sugar, maple syrup or any other form of naturally refined sugar.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"5151k","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"f6tmg","text":"‚úÖ What to eat","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":0,"length":2,"style":"BOLD"}],"entityRanges":[],"data":{}},{"key":"cqi7d","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fpmsp","text":"Anything else!","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"dgvq1","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1v7m2","text":"This isn‚Äôt no carb or keto. Feel free to indulge in fresh fruit and nutritious whole-grains.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cqf2n","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"c5uvt","text":"Of course, check with your healthcare provider before making any changes to your diet.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"8pje6","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}],"entityMap":{},"VERSION":"6.9.1-alpha.1"}'},duration:{unit:"DAYS",value:1},recurrenceSettings:{schedules:[]}},embedding:{startConditions:[{dependency:{container:{}},delay:{unit:"DAYS",value:0}}],isMilestone:!1}},createdAt:"2020-03-11T16:13:29.396Z",updatedAt:"2020-03-11T16:13:29.396Z"},timeFrame:{start:"2020-06-17T21:00:00Z",finish:"2020-06-18T21:00:00Z"},transitions:[{state:"PENDING",occurredAt:"2020-06-16T08:53:33.755Z"}],dateFrame:{start:"2020-06-18",finish:"2020-06-19"}},{id:"a9393bde-fa5f-4ad1-b187-35f0a8463927",source:{id:"6e387c1a-68bb-414d-9252-0f7a63113c18",settings:{general:{description:{title:"üëÄ Daily Accountability",details:'{"blocks":[{"key":"e9mn5","text":"Did you stay away from sugar today? If so, give yourself a pat on the back.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"eorqa","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cbrmj","text":"Don‚Äôt worry if you didn‚Äôt. Make a fresh start tomorrow!","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}],"entityMap":{},"VERSION":"5.1.16"}'},duration:{unit:"DAYS",value:1},recurrenceSettings:{schedules:[]}},embedding:{startConditions:[{dependency:{container:{}},delay:{unit:"DAYS",value:0}}],isMilestone:!1}},createdAt:"2020-03-11T16:14:30.820Z",updatedAt:"2020-03-11T16:14:30.820Z"},timeFrame:{start:"2020-06-17T21:00:00Z",finish:"2020-06-18T21:00:00Z"},transitions:[{state:"PENDING",occurredAt:"2020-06-16T08:53:33.755Z"}],dateFrame:{start:"2020-06-18",finish:"2020-06-19"}},{id:"0d6d15fe-cb92-41c6-aa35-76d4fe86bee6",source:{id:"0db19035-ed60-4411-b266-4dd3915373a7",settings:{general:{description:{title:"üëÄ Daily Accountability",details:'{"blocks":[{"key":"e9mn5","text":"Did you stay away from sugar today? If so, give yourself a pat on the back.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"eorqa","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"cbrmj","text":"Don‚Äôt worry if you didn‚Äôt. Make a fresh start tomorrow!","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}],"entityMap":{},"VERSION":"5.1.16"}'},duration:{unit:"DAYS",value:1},recurrenceSettings:{schedules:[]}},embedding:{startConditions:[{dependency:{container:{}},delay:{unit:"DAYS",value:1}}],isMilestone:!1}},createdAt:"2020-03-11T16:46:10.766Z",updatedAt:"2020-03-11T16:46:10.766Z"},timeFrame:{start:"2020-06-18T21:00:00Z",finish:"2020-06-19T21:00:00Z"},transitions:[{state:"PENDING",occurredAt:"2020-06-16T08:53:33.755Z"}],dateFrame:{start:"2020-06-19",finish:"2020-06-20"}},{id:"cc5b187e-556d-4525-9b8a-7d783e66ab94",source:{id:"9d6077b9-6e9f-4c8f-8f80-efda198462ab",settings:{general:{description:{title:"üßê What are your triggers?",details:'{"blocks":[{"key":"890oo","text":"Most of us reach for sweets and sugary snacks because of some trigger.\\n","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"1av54","text":"Pay attention to your cravings and try to pinpoint why you want sugar.","type":"unstyled","depth":0,"inlineStyleRanges":[{"offset":51,"length":3,"style":"ITALIC"}],"entityRanges":[],"data":{}},{"key":"btfl2","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"doabo","text":"Are you stressed? Go for a walk, meditate or find another way to unwind.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"ekp1f","text":"","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}},{"key":"fk8oh","text":"Are you truly hungry? Grab a healthy snack: nuts, fruit or even a full meal.","type":"unstyled","depth":0,"inlineStyleRanges":[],"entityRanges":[],"data":{}}],"entityMap":{},"VERSION":"5.1.16"}'},duration:{unit:"DAYS",value:1},recurrenceSettings:{schedules:[]}},embedding:{startConditions:[{dependency:{container:{}},delay:{unit:"DAYS",value:1}}],isMilestone:!1}},createdAt:"2020-03-11T16:46:18.272Z",updatedAt:"2020-03-11T16:46:18.272Z"},timeFrame:{start:"2020-06-18T21:00:00Z",finish:"2020-06-19T21:00:00Z"},transitions:[{state:"PENDING",occurredAt:"2020-06-16T08:53:33.755Z"}],dateFrame:{start:"2020-06-19",finish:"2020-06-20"}}]},42714:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var a=n(60751),s=n.n(a);let i=()=>s().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"16",height:"16",viewBox:"0 0 16 16"},s().createElement("defs",null,s().createElement("path",{id:"path-1",d:"M5.99949921 0L0 5.2409396 0.657040314 6 5.99949921 1.33389262 11.3429597 6 12 5.2409396z"})),s().createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},s().createElement("g",{transform:"translate(2 5)"},s().createElement("mask",{fill:"#fff"},s().createElement("use",{xlinkHref:"#path-1"})),s().createElement("use",{fill:"currentColor",transform:"matrix(1 0 0 -1 0 6)",xlinkHref:"#path-1"}))))},18316:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var a=n(60751),s=n.n(a),i=n.sts.bind(null,"ormLndg");let r=e=>{let{role:t="component",className:n}=e;return s().createElement("svg",{className:i("s__5_LXbc",{role:t},n),viewBox:"0 0 50 50"},s().createElement("circle",{className:"s_0p5oy",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"3"}))}},5131:(e,t,n)=>{"use strict";n.d(t,{L:()=>S});var a=n(60751),s=n.n(a),i=n(1517),r=n(22943),l=n(93439),o=n(41023),u=n(33799),c=n(94760),d=n(28791),p=n(48505),g=n(34942),m=n(5508),y=n(64717),f=n(56825),v=n(10665),h=n(34338),w=n(32757);let S=e=>{let{certificateId:t,programId:n}=e,[S,P]=s().useState(!1),{showToast:E}=(0,y.dj)(),{t:I}=(0,i.B)(),{instance:D}=(0,p.G)(),{challengeData:b}=(0,w.BU)(),{user:R,requestMemberEmail:C}=(0,h.Jd)(),_=function(e){let{isSSR:t}=(0,g.v)();return(0,a.useMemo)(()=>(0,m.u)({isSSR:t,getAppToken:()=>e}),[e,t])}(D),A=(0,r.bl)();s().useEffect(()=>{C()},[C]);let T=s().useCallback(async()=>{if(t){A.report((0,d.Ol)({buttonName:v.Rz.GetCertificate})),P(!0);try{var e;await _.request((0,c.D8)({participantId:t,challengeId:(null==b||null==(e=b.challenge)?void 0:e.id)||n})),E(I("live.challenges-page.modal.challenge-completed.reward.certificate",{participantEmail:R.email}),{type:f.C.success})}catch(e){E(I("certificates.toast.error"),{type:f.C.error}),console.log("Error getting certificate: ",e)}P(!1)}},[_,t,R.email]);return s().createElement(l.Q,{className:"s__93xHDZ",onClick:T,priority:o.I.link},S?s().createElement(u.S,null):I("certificates.button.view-certificate"))}},19052:(e,t,n)=>{},98353:(e,t,n)=>{},64780:(e,t,n)=>{"use strict";n.d(t,{ne:()=>E,ok:()=>I});var a=n(10665),s=n(63545);n(92651),n(19052);var i=n(7624);n(19116);var r=n(62060),l=n(93668),o=n(92733),u=n(43165),c=n(7408),d=n(38261),p=n(87025),g=n(32757),m=n(64052),y=n(61894),f=n(28157),v=n(59624),h=n(32679),w=n(73855),S=n(85742);n(98353);var P=n(90339);let E=async e=>{let{setProps:t}=e.controllerConfig;try{var n,r,E;let I={...await (0,s.YN)([(0,s.m)({flowAPI:e}),(0,g.gz)(e,f.G.CHALLENGES_PAGE)]),...await (0,s.YN)([(0,m.d)(),(0,y.zX)(e),(0,o.u)(e),(0,c.i)(e),(0,u.E)(e),(0,d.a)(e),(0,l.l)(e),(0,p.f)(e),(0,P.getVideoInitialData)(e)])},D=(0,v.up)(null==I||null==(n=I.challengeData)?void 0:n.challenge);(0,i.T)(e,null==I||null==(r=I.challengeData)?void 0:r.challenge),e.bi.updateDefaults({origin:e.controllerConfig.wixCodeApi.window.viewMode,_uuid:e.controllerConfig.platformAPIs.bi.ownerId,screenName:(0,S.H$)(I.userType)?a.J1.ChallengePageForParticipant:a.J1.ChallengePage,challengeId:null==(E=I.challengeData)||null==(E=E.challenge)?void 0:E.id}),((0,S.H$)(I.userType)||(0,w.hs)(I.query))&&await (0,v.wd)(e)&&e.environment.isViewer?(t({isForcedBlankPage:!0}),I.goToPage({pageId:h.WG,challengeId:D})):t({...I})}catch(e){console.error(e)}},I=()=>{var e,t,n;(0,g.J0)(),null==r.Xg||null==(e=r.Xg.cache)||e.clear(),null==l.l||null==(t=l.l.cache)||t.clear(),null==u.E||null==(n=u.E.cache)||n.clear()}},87025:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var a=n(94760),s=n(95655);let i={image:"picture",video:"video"},r=0,l=async function(e){return{uploadFile:async t=>{try{var n;let l=null==(n=await (0,s.E)(e,(0,a.IB)({fileName:t.file.name,challengeId:t.challengeId,participantId:t.participantId})))?void 0:n.data,o=i[t.file.type.split("/")[0]],u=new FormData;u.append("media_type",o),u.append("file",t.file);let c=await e.httpClient.post(l.uploadUrl,u,{headers:{"Content-Type":"multipart/form-data"}});r-=1,e.controllerConfig.setProps({uploadedFile:c.data[0],itemsLoading:r})}catch(e){console.error("Failed to upload media",e)}},uploadedFile:null,itemsLoading:0,setItemsLoading:t=>{r=t,e.controllerConfig.setProps({itemsLoading:t})},clearUploadedFile:()=>{e.controllerConfig.setProps({uploadedFile:null})}}}},48505:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var a=n(59879),s=n(29594),i=n(34942);let r=()=>{let e=(0,a.O)(),t=(0,s.E)(),{isCssPerBreakpoint:n}=(0,i.v)();return{host:e.host,isFullWidthLayout:t,instanceId:e.instanceId,instance:e.instance,msid:e.msid,defaultBIParams:e.defaultBIParams,startTimeOfRender:e.startTimeOfRender,regionalSettings:e.regionalSettings,isMyWalletInstalled:e.isMyWalletInstalled,isCssPerBreakpoint:n,isParticipantPageAvailable:e.isParticipantPageAvailable}}},53001:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var a=n(55328),s=n(82809),i=n(32679),r=n(59624),l=n(85032);async function o(e){let{appDefinitionId:t}=e.environment,n=(0,a.X)({platformAPIs:e.controllerConfig.platformAPIs}),o=e.controllerConfig.wixCodeApi.site.regionalSettings,u=e.controllerConfig.wixCodeApi.site.getAppToken(t),c={instanceId:null};e.controllerConfig.setProps({fitToContentHeight:!0});try{c=JSON.parse(atob(u.substr(u.indexOf(".")+1)))}catch(e){console.error(e)}let[d]=await Promise.all([(0,s.e)(i.Fv,i.jq,i.ke,e)]);return await (0,l.BQ)(e),{instance:u,instanceId:c.instanceId,msid:n.metaSiteId,defaultBIParams:n,startTimeOfRender:Date.now(),regionalSettings:o,isMyWalletInstalled:d,isParticipantPageAvailable:await (0,r.wd)(e)}}},92733:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var a=n(23627),s=n(87071),i=n(94739),r=n(62060);let l=null;async function o(e){let{isEditor:t}=e.environment,n=await (0,a.L)(e),{goToExternalUrl:o}=await (0,r.Xg)(e);if((0,i.Hy)(n,e))return{goToInviteLink:()=>{}};try{var u;let a=null==(u=e.controllerConfig.platformAPIs)||null==(u=u.bi)?void 0:u.metaSiteId;return{goToInviteLink:async()=>{let i=t||!a?"":l||await (0,s.a)(e,n,a);l||(l=i),o(i)}}}catch(e){console.error(e)}return{goToInviteLink:()=>{}}}},59529:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var a=n(36901);let s=null;function i(e){return s||(s={isLoading:!1,showLoader(){e.controllerConfig.setProps({isLoading:!0,loadingStatus:a.U.DEFAULT}),s.isLoading=!0},hideLoader(t){void 0===t&&(t=a.U.OK),e.controllerConfig.setProps({isLoading:!1,loadingStatus:t}),s.isLoading=!1}})}},77243:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var a=n(99927);function s(e){return{setItem(t,n){try{var s;let a=JSON.stringify(n);null==(s=e.controllerConfig)||null==(s=s.platformAPIs)||null==(s=s.storage)||null==(s=s.local)||s.setItem(t,a)}catch(e){(0,a.H)({error:e,context:"localStorage.set"})}},requestItem(t){let n=null;try{var s;n=null==(s=e.controllerConfig)||null==(s=s.platformAPIs)||null==(s=s.storage)||null==(s=s.local)?void 0:s.getItem(t)}catch(e){(0,a.H)({error:e,context:"localStorage.get"})}return e.controllerConfig.setProps({storage:{[t]:n}}),n}}}},26667:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var a=n(8500),s=n.n(a),i=n(31125),r=n(77243);let l=s()(e=>({startInteraction:async(t,n)=>{let{setItem:a,requestItem:s}=await (0,r.h)(e),i=s("interactions"),l=i?JSON.parse(i):{};l[t]={started:new Date,entityId:n},a("interactions",l),e.fedops.interactionStarted(t)},endInteraction:async(t,n)=>{let{setItem:a,requestItem:s}=await (0,r.h)(e),l=s("interactions"),o=l?JSON.parse(l):{},u=o[t];u?(2>(0,i.A)(new Date,new Date(u.started))&&(!u.entityId||n===u.entityId)&&e.fedops.interactionEnded(t),delete o[t],a("interactions",o)):console.warn(`The interaction ${t} doesnt ended.`)}}))},46124:(e,t,n)=>{"use strict";n.d(t,{p:()=>d});var a=n(32757),s=n(48288),i=n(34425),r=n(25585),l=n(85742),o=n(93668),u=n(39830),c=n(11273);async function d(e,t){var n;let d=e.id,{participantV3:p,participant:g}=await (0,o.l)(t),m=p||g;if(!(m&&(0,l.H$)((0,u.Gu)(m))||(0,c.x5)(t)))return{sections:[],steps:[]};null==(n=t.controllerConfig)||n.setProps({isListParticipantSectionsRequestInProgress:!0});let y={start:m?(0,u.tq)(m):new Date().toISOString()},[f,v,h]=await Promise.all([(0,a.BJ)(d,t),(0,a.kC)(d,t),(0,s.D)(null==m?void 0:m.id,t)]),{sections:w}=(0,i.y)(f,v);return(0,r.M)({sections:w,challenge:e,resolvedSteps:h,dateFrame:y})}},43165:(e,t,n)=>{"use strict";n.d(t,{E:()=>h});var a=n(3078),s=n.n(a),i=n(11273),r=n(18219),l=n(21047),o=n(8500),u=n.n(o),c=n(32757),d=n(85032),p=n(96710),g=n(46124),m=n(80222),y=n(33733);let f=async(e,t)=>{let n=await (0,i.Mm)(e,t),a=s()(n.map(e=>e.steps||[]));e.controllerConfig.setProps({listParticipantSections:n,participantSteps:{steps:a}})},v=()=>{(0,d.uJ)({priority:d.U_.SECONDARY,handler:async e=>{let t=await (0,c.Wq)(e);if((0,p.B)(e)){let{sections:n,steps:a}=await (0,g.p)(null==t?void 0:t.challenge,e);return e.controllerConfig.setProps({listParticipantSections:n,participantSteps:{steps:a},isListParticipantSectionsRequestInProgress:!1})}(0,l.M)(null==t?void 0:t.challenge)?await f(e,null==t?void 0:t.challenge):e.controllerConfig.setProps({participantSteps:await (0,r.DT)(e,null==t?void 0:t.challenge)})}})},h=u()(async function(e){let t,n;let a=await (0,c.Wq)(e),o=null==a?void 0:a.challenge,u=(0,l.M)(o)&&!!(0,l.O)(o);(0,p.B)(e)?({sections:t,steps:n}=await (0,g.p)(o,e),(0,l.M)(o)||(t=[])):(t=u?await (0,i.Mm)(e,o):[],n=u?s()(t.map(e=>e.steps||[])):(await (0,r.DT)(e,o)).steps);let d=await (0,i.U1)(e,t),{selectedStep:h}=await (0,r.Te)(e,n);return v(),{selectedStep:h,selectedSection:d,participantSteps:{steps:n},listParticipantSections:t,isListParticipantSectionsRequestInProgress:!1,isParticipantStepsLoading:!1,updateParticipantSections:()=>f(e,o),updateParticipantSteps:async()=>{e.controllerConfig.setProps({participantSteps:await (0,r.DT)(e,o)})},updateParticipantStepStatus:async t=>(0,r.Nq)(e,t),requestParticipantSection:async(t,n)=>(0,y.e)(t,n,e),requestParticipantStep:async(t,n)=>(0,m.l)(t,n,e)}})},11273:(e,t,n)=>{"use strict";n.d(t,{Mm:()=>S,U1:()=>P,x5:()=>w,zg:()=>E});var a=n(93668),s=n(85742),i=n(94739),r=n(99927),l=n(73855),o=n(49026),u=n(62060),c=n(32757),d=n(47888),p=n(6845),g=n(94760),m=n(32069),y=n(95655),f=n(60745),v=n(3550),h=n(96710);let w=e=>{var t;let{isEditor:n,isPreview:a}=e.environment;return n||a||(0,l.hs)(null==e||null==(t=e.controllerConfig)||null==(t=t.wixCodeApi)||null==(t=t.location)?void 0:t.query)},S=async(e,t)=>{var n,l,u,c,h,S;let{isEditor:P}=e.environment,E=await (0,a.l)(e),{participant:I}=E,D=(0,s.H$)(null==I||null==(n=I.transitions)||null==(n=n[0])?void 0:n.state),b=null==t?void 0:t.id,R=[];if((0,i.Hy)(b,e))return[];if(e.controllerConfig.setProps({isListParticipantSectionsRequestInProgress:!0}),D&&E.userType!==m.Uw.RUNNING&&(null==t||null==(l=t.stepsSummary)?void 0:l.sectionsNumber)>0)try{R=null==(c=await (0,y.E)(e,(0,g.DT)({challengeId:b,participantId:null==I?void 0:I.id,descriptionFieldSet:p.po.STANDARD})))||null==(c=c.data)?void 0:c.sections}catch(e){(0,r.H)({error:e,context:"loadSections"})}if(w(e)&&!(null!=(u=R)&&u.length)){let t=b||(null==(h=await (0,v.UX)(e))||null==(h=h.memberChallenges)||null==(h=h[0])||null==(h=h.challenge)?void 0:h.id);if(t)try{let n=null==(S=await (0,y.E)(e,(0,d.DT)({challengeId:t,descriptionFieldSet:p.po.STANDARD})))||null==(S=S.data)?void 0:S.sections;R=(0,o.B)(n)}catch(e){(0,r.H)({error:e,context:P?"loadParticipantSections[editor]":"loadParticipantSections[preview]"})}}return e.controllerConfig.setProps({isListParticipantSectionsRequestInProgress:!1}),(0,f.BO)(R)};async function P(e,t){let n=(0,u.al)(e);if("section"===n.navigationType){var a;let s=t.find(e=>e.id===n.navigationId);if(s||(0,h.B)(e))return s;let i=await (0,c.fw)(n.slug,e);return null==(a=await (0,y.E)(e,(0,g.Il)({programSectionId:n.navigationId,programId:i.challenge.id})))||null==(a=a.data)?void 0:a.participantSection}}let E=e=>{let t=e||{};return t.details=t.details||null,t}},33733:(e,t,n)=>{"use strict";n.d(t,{e:()=>y});var a=n(32757),s=n(93668),i=n(85742),r=n(95655),l=n(99927),o=n(11273),u=n(32069),c=n(94760),d=n(47888),p=n(96710),g=n(45830),m=n(85662);async function y(e,t,n){var y,f,v,h,w,S;let P=await (0,a.Wq)(n),E=(null==P?void 0:P.challenge)||null,I=null==(y=await (0,s.l)(n))?void 0:y.participant,D=(0,i.H$)(null==I||null==(f=I.transitions)||null==(f=f[0])?void 0:f.state),b=n.environment.isPreview&&D,R=(0,o.x5)(n)&&!b;if(!E||!(R||I)||!t){console.error("Can't request participant section, not enough data.",{challenge:E,participant:I,sections:t,isOwnerData:R});return}let C=t.find(t=>(null==t?void 0:t.id)===e),_=null;if(C||console.error("Can't find participant section for update."),(0,p.B)(n)){let t=await (0,g.w)({sectionId:e},n);_=(0,m.u8)(t)}else if(R)try{let t=null==(w=await (0,r.E)(n,(0,d.Sx)({challengeId:E.id,sectionId:e,descriptionFieldSet:u.po.EXTENDED})))||null==(w=w.data)?void 0:w.section;_=(0,o.zg)(null==t||null==(S=t.settings)?void 0:S.description)}catch(e){console.error(e),(0,l.H)({error:e,context:"requestParticipantSection (challenge)"})}else try{let t=null==(v=await (0,r.E)(n,(0,c.Sx)({challengeId:E.id,participantId:I.id,sectionId:e,descriptionFieldSet:u.po.EXTENDED})))||null==(v=v.data)?void 0:v.section;_=(0,o.zg)(null==t||null==(h=t.source)||null==(h=h.settings)?void 0:h.description)}catch(e){console.error(e),(0,l.H)({error:e,context:"requestParticipantSection (participant)"})}(0,m.Xo)(C.source,_),n.controllerConfig.setProps({listParticipantSections:t})}},80222:(e,t,n)=>{"use strict";n.d(t,{l:()=>y});var a=n(32757),s=n(93668),i=n(85742),r=n(19440),l=n(95655),o=n(99927),u=n(11273),c=n(6845),d=n(94760),p=n(47888),g=n(96710),m=n(23450);async function y(e,t,n){var y,f,v,h,w,S;let P;let E=await (0,a.Wq)(n),I=(null==E?void 0:E.challenge)||null,D=null==(y=await (0,s.l)(n))?void 0:y.participant,b=(0,i.H$)(null==D||null==(f=D.transitions)||null==(f=f[0])?void 0:f.state),R=n.environment.isPreview&&b,C=(0,u.x5)(n)&&!R;if(!I||!(C||D)||!t){console.error("Can't request participant step, not enough data.",{challenge:I,participant:D,steps:t,isOwnerData:C});return}let _=t.find(t=>(null==t?void 0:t.id)===e),A=null;if(!_){console.error("Can't find participant step for update.");return}if((0,g.B)(n))P=await (0,m.l)({stepId:e,descriptionFieldSet:c.po.EXTENDED},n),A=(0,r.fY)(P);else if(C)try{let t=null==(w=await (0,l.E)(n,(0,p.v3)({challengeId:I.id,stepId:e,descriptionFieldSet:c.po.EXTENDED})))||null==(w=w.data)?void 0:w.step;A=(0,u.zg)(null==t||null==(S=t.settings)||null==(S=S.general)?void 0:S.description)}catch(e){console.error(e),(0,o.H)({error:e,context:"requestParticipantStep (challenge)"})}else try{P=null==(v=await (0,l.E)(n,(0,d.v3)({challengeId:I.id,participantId:D.id,stepId:e,descriptionFieldSet:c.po.EXTENDED})))||null==(v=v.data)?void 0:v.step,A=(0,u.zg)(null==(h=P)||null==(h=h.source)||null==(h=h.settings)||null==(h=h.general)?void 0:h.description)}catch(e){console.error(e),(0,o.H)({error:e,context:"requestParticipantStep (participant)"})}(0,r.Xo)(_.source,A),n.controllerConfig.setProps({participantSteps:{steps:t}})}},49026:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var a=n(80368),s=n(54539),i=n(87649);let r=e=>e.map(e=>({id:null==e?void 0:e.id,source:e,steps:(0,i.qK)({ownerSteps:{steps:(null==e?void 0:e.steps)||[]}}),transitions:l(e)})),l=e=>{var t;let n=new Date,i=(null==(t=e.settings.startCondition)||null==(t=t.delay)?void 0:t.value)||0;if(i>0){let e=(0,a.A)(n,i);return[{waitingDate:{startDate:(0,s.A)(e,"yyyy-MM-dd")}}]}let r=(0,s.A)(n,"yyyy-MM-dd");return[{running:{dateInterval:{start:r,finish:r}}}]}},18219:(e,t,n)=>{"use strict";n.d(t,{DT:()=>P,Nq:()=>E,Te:()=>D});var a=n(6845),s=n(93668),i=n(85742),r=n(99927),l=n(73855),o=n(94739),u=n(87649),c=n(67417),d=n(62060),p=n(95655),g=n(32069),m=n(47888),y=n(94760),f=n(60745),v=n(23627),h=n(3550),w=n(32757),S=n(96710);let P=async(e,t)=>{var n,d,w,S,P,E,I;let{isEditor:D,isPreview:b}=e.environment,R=await (0,s.l)(e),{participant:C}=R,_=(0,i.H$)(null==C||null==(n=C.transitions)||null==(n=n[0])?void 0:n.state),A={steps:[]};if(e.controllerConfig.setProps({isParticipantStepsLoading:!0}),_&&R.userType!==g.Uw.RUNNING)try{let n=t.id;if(!n||(null==t||null==(S=t.stepsSummary)?void 0:S.stepsNumber)===0)return{steps:[]};A=null==(P=await (0,p.E)(e,(0,y.A1)({challengeId:n,participantId:C.id,descriptionFieldSet:a.po.STANDARD})))?void 0:P.data}catch(e){(0,r.H)({error:e,context:"participantAPI.listSteps"})}if((D||b||(0,l.hs)(null==e||null==(d=e.controllerConfig)||null==(d=d.wixCodeApi)||null==(d=d.location)?void 0:d.query))&&!(null!=(w=A)&&null!=(w=w.steps)&&w.length)){let t;let n=await (0,v.L)(e)||(null==(E=await (0,h.UX)(e))||null==(E=E.memberChallenges)||null==(E=E[0])||null==(E=E.challenge)?void 0:E.id);if(n&&!(0,o.Hy)(n,e))try{let s=null==(I=await (0,p.E)(e,(0,m.A1)({challengeId:n,fromOffset:{value:0,unit:a.lZ.DAYS},descriptionFieldSet:a.po.STANDARD})))?void 0:I.data;t=(0,u.qK)({ownerSteps:s})}catch(e){(0,r.H)({error:e,context:"getOwnerListSteps"})}A={steps:t||c.a}}return e.controllerConfig.setProps({isParticipantStepsLoading:!1}),{...A,steps:(0,f.Qn)(A.steps)}},E=(e,t)=>{let{stepId:n,steps:a,sections:s,replace:i,feedbackItems:r,quizSubmission:l,transitions:o}=t,u=e=>{e.id===n&&((o||i)&&(e.transitions=o),(null!=r&&r.items||null!=r&&r.quiz||i)&&(e.feedback=r),(l||i)&&(e.quizSubmission=l))};null!=s&&s.length?(s.forEach(e=>{(e.steps||[]).forEach(u)}),e.controllerConfig.setProps({listParticipantSections:s})):null!=a&&a.length?(a.forEach(u),e.controllerConfig.setProps({participantSteps:{steps:a}})):console.error("Can't update participant step status.")};async function I(e,t){var n;let{slug:a,navigationId:s}=(0,d.al)(t),i=e.find(e=>e.id===s);if(i||(0,S.B)(t))return i;let r=await (0,w.fw)(a,t);return null==(n=await (0,p.E)(t,(0,y.Pg)({programStepId:s,programId:r.challenge.id})))||null==(n=n.data)?void 0:n.participantStep}async function D(e,t){let{navigationType:n}=(0,d.al)(e);return"step"===n?{selectedStep:await I(t,e)}:{selectedStep:void 0}}},87649:(e,t,n)=>{"use strict";n.d(t,{GP:()=>p,HN:()=>c,Ok:()=>g,qK:()=>m});var a=n(32069),s=n(80368),i=n(54539),r=n(19440),l=n(8980);let o=new Date,u=e=>{let{step:t,initialDate:n=null,dateFrame:l=null,locale:u=null}=e,c=(0,r.uf)(t);if(!l){let e=(0,s.A)(n||o,c),t=(0,s.A)(n||o,c+1);l={start:(0,i.A)(e,"yyyy-MM-dd",{locale:u||null}),finish:(0,i.A)(t,"yyyy-MM-dd",{locale:u||null})}}return{id:null==t?void 0:t.id,dateFrame:l,source:{...t},transitions:[{state:a.Zy.RUNNING}]}},c=e=>{switch(e.status){case l.nW.COMPLETED:return[{state:a.Zy.COMPLETED}];case l.nW.FAILED:return[{state:a.Zy.FAILED}];default:return[{state:a.Zy.RUNNING}]}},d=e=>new Date(e.dateFrame.start)>o?[{state:a.Zy.PENDING}]:new Date(e.dateFrame.finish)<o?[{state:a.Zy.OVERDUE}]:e.transitions;function p(e){let{quizSubmissionId:t,earnedScore:n,passingGrade:a}=e;if(t)return{quizSubmissionId:t,score:n,passingGrade:a}}let g=e=>{let{step:t,resolvedStep:n,initialDate:a=null,dateFrame:s=null,locale:i=null}=e,r=u({step:t,initialDate:a,locale:i,dateFrame:s});return s&&(r.dateFrame=s),n?(r.transitions=c(n),r.quizSubmission=p(n)):r.transitions=d(r),r},m=e=>{let{ownerSteps:t,initialDate:n=null,locale:a=null}=e;return t.steps.map(e=>u({step:e,initialDate:n,locale:a}))}},6493:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(59381),s=n(92173),i=n(20191),r=n(99927);let l=e=>{let t=e.controllerConfig.setProps;return{controllerIsReady:!1,initController:async n=>{t({controllerIsReady:!1,lastSubmissionId:null,submission:null,sendSubmissionInProgress:!1}),await (0,a.R)(e,{formId:n,namespace:"wix.achievements.quizzes.v1.quiz"}),t({controllerIsReady:!0})},sendSubmission:async(n,a)=>{let l={};Object.keys(a).forEach(e=>{l[e]={value:a[e]}}),t({sendSubmissionInProgress:!0});try{var o,u,c,d;let a=await e.httpClient.request((0,s.sL)({submission:{quizId:n,answers:l}}));e.controllerConfig.setProps({isResolveStepRequestInProgress:!0}),t({sendSubmissionInProgress:!1,lastSubmissionId:null==a||null==(o=a.data)||null==(o=o.submission)?void 0:o.id,submission:{submissions:(0,i.R)(null==a||null==(u=a.data)?void 0:u.submission),answers:(0,i.k)(null==a||null==(c=a.data)?void 0:c.submission)},earnedGrade:null==a||null==(d=a.data)||null==(d=d.submission)?void 0:d.earnedGrade})}catch(e){t({sendSubmissionInProgress:!1,lastSubmissionId:null,submission:null,earnedGrade:null}),(0,r.H)({error:e,context:"quizSubmission"})}},getSubmission:async n=>{t({getSubmissionInProgress:!0});try{var a,l;let r=null==(a=await e.httpClient.request((0,s.m5)({submissionId:n})))?void 0:a.data;t({submission:{submissions:(0,i.R)(null==r?void 0:r.submission),answers:(0,i.k)(null==r?void 0:r.submission)},earnedGrade:null==r||null==(l=r.submission)?void 0:l.earnedGrade,getSubmissionInProgress:!1})}catch(e){t({submission:null,earnedGrade:null,getSubmissionInProgress:!1}),(0,r.H)({error:e,context:"getQuizSubmission"})}},resubmitTheQuiz:()=>{t({lastSubmissionId:null,submission:null,earnedGrade:null})},clearQuizStore:()=>{t({controllerIsReady:!1,lastSubmissionId:null,submission:null,sendSubmissionInProgress:!1,earnedGrade:null})},setPagesData:e=>{t({pagesData:e})}}}},20191:(e,t,n)=>{"use strict";function a(e){return(null==e?void 0:e.answers)||{}}function s(e){return Object.entries(a(e)).reduce((e,t)=>{let[n,a]=t;return e[n]=a.value,e},{})}n.d(t,{R:()=>s,k:()=>a})},7408:(e,t,n)=>{"use strict";n.d(t,{i:()=>S});var a=n(32069),s=n(93668),i=n(10665),r=n(99927),l=n(89192),o=n(94760),u=n(95655),c=n(91979),d=n(26667),p=n(80978),g=n(60745),m=n(23627),y=n(96710),f=n(872),v=n(19440);let h=e=>{let{status:t,hasFeedback:n,isUpdate:s}=e;if(t===a.$X.UNDO)return i.Q3.STEP_UNDO;let r=s?[i.Q3.STEP_FEEDBACK_UPDATE]:[i.Q3.STEP_COMPLETE];return n&&r.push(i.Q3.FEEDBACK_SEND),r},w=async(e,t)=>{var n,i;let{stepId:w,feedback:S,quizSubmission:P,unresolvedMessage:E,status:I=a.$X.COMPLETED,isUpdate:D=!1}=t,{participant:b,participantV3:R}=await (0,s.l)(e),C=R||b;e.controllerConfig.setProps({isResolveStepRequestInProgress:!0});let _=async t=>{var n,s;let i={actionId:t,challengeId:await (0,m.L)(e),participantId:null==b?void 0:b.id,status:I,stepId:w};return(0,y.B)(e)?(0,f.z)({participantId:C.id,stepId:w,quizSubmissionId:null==P?void 0:P.quizSubmissionId},e):(S?(i.feedback={createdAt:new Date,items:null==S?void 0:S.items,quiz:null==S?void 0:S.quiz},D&&(delete i.feedback.createdAt,delete i.status,i.feedback.updatedAt=new Date)):P&&(i.quizSubmissionId=P.quizSubmissionId,i.status=a.$X.QUIZ_SUBMIT),D?null==(n=await (0,u.E)(e,(0,o.hy)(i)))?void 0:n.data:null==(s=await (0,u.E)(e,(0,o.pE)(i)))?void 0:s.data)},A=!!(null!=S&&null!=(n=S.items)&&n.length)||!!(null!=S&&null!=(i=S.quiz)&&i.length);try{let{step:t}=await (0,l.U)(e.bi,h({status:I,isUpdate:D,hasFeedback:A}),async e=>_(e)),n=(0,g.gp)(t);(0,v.Ix)(n)&&(0,p.B)(e,E);let a={id:null==n?void 0:n.id,quizSubmission:null==n?void 0:n.quizSubmission,transitions:null==n?void 0:n.transitions};if(e.controllerConfig.setProps({resolveStepData:a}),!D){let t=await (0,s.l)(e);await t.incrementParticipantsCompletedStepSummary()}let{endInteraction:i}=await (0,d.D)(e),r=D?c.W.UpdateFeedbackData:c.W.CompleteStepWithoutFeedback;i(r,w)}catch(t){(0,r.H)({error:t,context:"resolveStep"}),e.controllerConfig.setProps({resolveStepError:t.toString()}),console.error(t)}e.controllerConfig.setProps({isResolveStepRequestInProgress:!1})},S=async function(e){return{isResolveStepRequestInProgress:!1,resolveStep:async t=>w(e,t)}}},38261:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var a=n(32679);let s=async function(e){let t=await e.controllerConfig.wixCodeApi.site.isAppSectionInstalled({sectionId:"group",appDefinitionId:a.jm});return{groupPageUrl:await e.controllerConfig.wixCodeApi.site.getSectionUrl({sectionId:"group",appDefinitionId:a.jm}),isGroupsInstalled:t,socialGroup:null}}},99729:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var a=n(10665),s=n(66281),i=n(23627),r=n(89192),l=n(62740),o=n(95655),u=n(99927);async function c(e,t){t=t||await (0,i.L)(e);try{var n,a;let s=null==(n=await (0,o.E)(e,(0,l.ct)({challengeId:t,resolverId:e.controllerConfig.wixCodeApi.user.currentUser.id,includeResolved:!1})))?void 0:n.data;return null==s||null==(a=s.requests)||null==(a=a["0"])?void 0:a.id}catch(e){(0,u.H)({error:e,context:"acceptInvite.listApprovalRequests"})}}async function d(e,t,n){let i=await c(e);i&&await (0,r.U)(e.bi,a.Q3.CHALLENGE_JOIN,async a=>{var r;return null==(r=await (0,o.E)(e,(0,l.zl)({actionId:a,memberTimeZone:t,requestId:i,resolutionStatus:s.n.ACCEPTED,startDate:n})))?void 0:r.data})}},23859:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var a=n(10665),s=n(66281),i=n(99927),r=n(89192),l=n(62740),o=n(95655);async function u(e,t){try{var n,a;let s=null==(n=await (0,o.E)(e,(0,l.ct)({challengeId:t,creatorId:e.controllerConfig.wixCodeApi.user.currentUser.id,includeResolved:!1})))?void 0:n.data;return null==s||null==(a=s.requests)||null==(a=a["0"])?void 0:a.id}catch(e){(0,i.H)({error:e,context:"cancelInvite.listApprovalRequests"})}}async function c(e,t){let n=await u(e,t);if(n)await (0,r.U)(e.bi,a.Q3.CHALLENGE_JOIN,async t=>{var a;return null==(a=await (0,o.E)(e,(0,l.zl)({actionId:t,requestId:n,resolutionStatus:s.n.CANCELLED})))?void 0:a.data});else{console.error("[Challenges]: Can't find approval request id.",{flowAPI:e});return}}},35715:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});var a=n(32069),s=n(99729),i=n(23173),r=n(3558),l=n(51590),o=n(32757);let u=async e=>{var t,n;let{timeZone:u,startDateFormatted:c,flowAPI:d,userProvider:p}=e,g=p.participant,m=(null==g||null==(t=g.transitions)?void 0:t.length)&&(null==g?void 0:g.transitions["0"].state),y=null==(n=(await (0,o.Wq)(d)).challenge)||null==(n=n.settings)||null==(n=n.accessRestrictions)?void 0:n.accessType,f=null;switch(m){case a.Uw.INVITED:return await (0,s.Q)(d,u,c),await p.updateParticipant(),p.participant;case a.Uw.PAYMENT_REQUESTED:case a.Uw.PAYMENT_STARTED:case a.Uw.JOIN_REQUESTED:case a.Uw.JOINED:case a.Uw.RUNNING:case a.Uw.COMPLETED:case a.Uw.FAILED:case a.Uw.SUSPENDED:return p.participant;case a.Uw.JOIN_REJECTED:case a.Uw.REMOVED:case a.Uw.LEFT:default:return f=y===l.Fk.PRIVATE?await (0,i.M)(d,u,c):await (0,r.T)(d,u,c),await p.updateParticipant(f),p.participant}}},69111:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var a=n(72442),s=n(95655),i=n(99927),r=n(45865);async function l(e){let t=null;try{var n;let i=null==(n=await (0,s.E)(e,(0,a.HK)({})))?void 0:n.data;t=(null==i?void 0:i.stats)||null}catch(e){(0,i.H)(e)}return t}async function o(e){let t=await l(e)||{},n=e.experiments.enabled(r.N.enablePremium),a=new Date().getTime(),s=new Date(t.gracePeriodEnd).getTime(),i=t.isGracePeriodEnabled&&s>a;return n&&t.isPremiumFeatureEnabled&&!t.hasPremium&&t.activeParticipantsCount>t.activeParticipantsLimit&&!i}},44506:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(85032),s=n(93668),i=n(59624),r=n(62060),l=n(85742);function o(){(0,a.uJ)({priority:a.U_.FIRST,handler:async e=>{let t=await (0,s.l)(e),n=await t.updateParticipant();if(await t.updateParticipantLockedState(),await (0,i.wd)(e)){let t=e.environment.isViewer,a=(0,r.iO)(e),s=location.href.includes("challenge-page");t&&a&&s&&(0,l.H$)(n.userType)&&(e.controllerConfig.setProps({isForcedBlankPage:!0}),await (0,i.YS)(e,{challengeId:a,isParticipant:!0}))}}})}},99916:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var a=n(7273),s=n(23627),i=n(61894);async function r(e){let t=await (0,s.L)(e),n=await (0,i.dF)(e);return!!(0,a.rV)(n.eligiblePlans,n.userPaidPlans,t).length}},51097:(e,t,n)=>{"use strict";n.d(t,{T:()=>h});var a=n(99916),s=n(35715),i=n(32069),r=n(79592),l=n(25591),o=n(85742),u=n(59529),c=n(64780),d=n(89192),p=n(10665),g=n(99927),m=n(36901),y=n(59624),f=n(62060);let v=function(e){return e.OK="OK",e.NOT_ELIGIBLE="NOT_ELIGIBLE",e.ERROR="ERROR",e}({});async function h(e,t,n,h,w){var S,P,E;let I=(0,l.dG)(h),D=(0,l.O)(e),b=(0,u.R)(e);if(b.showLoader(),!e.controllerConfig.wixCodeApi.user.currentUser.loggedIn){try{await (0,l.Gu)(e),await t.updateParticipant()}catch(e){return b.hideLoader(),v.ERROR}if(await (0,a.J)(e))return b.hideLoader(),v.OK}let R=(0,l.W2)({loggedIn:!0},t.participant);if((0,o.wb)(R)){if(await (0,y.wd)(e)){let t=(0,f.iO)(e);await (0,y.YS)(e,{challengeId:t,isParticipant:!0})}else b.hideLoader();return v.OK}let C=null;try{C=await (0,s.w)({timeZone:D,userProvider:t,startDateFormatted:I,flowAPI:e})}catch(e){if(console.log(e),(null==e||null==(E=e.response)||null==(E=E.data)||null==(E=E.details)||null==(E=E.applicationError)?void 0:E.code)==="join_not_eligible")return b.hideLoader(m.U.NOT_ELIGIBLE),v.NOT_ELIGIBLE;b.hideLoader(),(0,g.H)({error:e,context:"createParticipant"})}if(C)switch(C.transitions[0].state){case i.Uw.PAYMENT_REQUESTED:case i.Uw.PAYMENT_STARTED:case i.Uw.SUSPENDED:let{userJoined:_}=await (0,r.L)(e,t,n,C.id,I,D,w);return _?await (0,l.PQ)(e):v.OK;case i.Uw.JOINED:case i.Uw.RUNNING:if(await (0,y.wd)(e))return await (0,y.YS)(e,{isParticipant:!0,challengeId:C.challenge.id}),v.OK;return(0,c.ok)(),await (0,c.ne)(e),await (0,d.j)(e.bi,p.J1.ChallengePageForParticipant),b.hideLoader(),v.OK;case i.Uw.JOIN_REQUESTED:return b.hideLoader(),v.OK;default:return null==e||null==(S=e.errorMonitor)||S.captureMessage(`[challenge] Unexpected participant state "${null==(P=C)?void 0:P.transitions[0].state}" during join.`),b.hideLoader(),v.OK}return b.hideLoader(),console.error("[CHALLENGE] Unable to join user"),v.ERROR}},3558:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var a=n(10665),s=n(89192),i=n(94760),r=n(95655),l=n(23627);async function o(e,t,n){let o=await (0,l.L)(e);return(await (0,s.U)(e.bi,a.Q3.CHALLENGE_JOIN,async a=>{var s;return null==(s=await (0,r.E)(e,(0,i.g)({challengeId:o,memberId:e.controllerConfig.wixCodeApi.user.currentUser.id,timeZone:t,startDate:n,actionId:a})))?void 0:s.data})).participant}},66497:(e,t,n)=>{"use strict";n.d(t,{o:()=>u});var a=n(89192),s=n(10665),i=n(95655),r=n(26667),l=n(91979),o=n(94760);let u=async(e,t,n)=>{await (0,a.U)(e.bi,s.Q3.LEAVE_THE_CHALLENGE,async a=>{var s;return null==(s=await (0,i.E)(e,(0,o.fS)({actionId:a,challengeId:n,participantId:t})))?void 0:s.data}),await (0,a.j)(e.bi,s.J1.ChallengePage);let{endInteraction:u}=(0,r.D)(e);u(l.W.LeaveFromProgram,n)}},97945:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var a=n(66497),s=n(59624),i=n(61894);async function r(e,t,n,r){if(await (0,a.o)(e,t,r),await (0,s.wd)(e))await (0,s.YS)(e,{challengeId:r,isParticipant:!1});else{await n.updateParticipant();let t=await (0,i.zX)(e);e.controllerConfig.setProps({...t,participantSteps:[]})}}},79592:(e,t,n)=>{"use strict";n.d(t,{L:()=>S});var a=n(830),s=n(53674),i=n(41423),r=n(62060),l=n(10665),o=n(25591),u=n(85742),c=n(7273),d=n(99927),p=n(89192),g=n(94760),m=n(95655),y=n(33872),f=n(23627),v=n(61894),h=n(59624),w=n(32679);async function S(e,t,n,S,P,E,I){var D;let b=(0,r.Xg)(e),R=await (0,d.T)(e),C=await (0,f.L)(e);if(!n)return console.error("No payment options. Cant create a payment request"),R.showError("toast.error.contact-site-owner"),Promise.resolve({userJoined:!1});let _=await (0,p.U)(e.bi,l.Q3.CREATE_PAYMENT_ORDER_ID,async t=>{var a;return null==(a=await (0,m.E)(e,(0,g.tn)({participantId:S,challengeId:C,startDate:P,paymentType:(0,o.Nx)(n),timeZone:E,actionId:t})))?void 0:a.data}),A=_.participant;if(await t.updateParticipant(A),"PaidPlans"===n&&(0,u.wb)(null==(D=t.participant)||null==(D=D.transitions)||null==(D=D[0])?void 0:D.state))return{userJoined:!0};if("SinglePayment"===n)return b.goToPage({pageId:s.bQ.Payment,challengeId:`${(0,r.iO)(e)}?${(0,y.dF)({orderId:_.orderId,showOneAppInfo:!!(null!=I&&I.showOneAppInfo)})}`}),{userJoined:!1};if("PaidPlans"===n){let t=e.translations.t,n=await (0,v.zX)(e),s=(0,i.iG)(C,n.userPaidPlans),l=(0,i.AU)(C,n.userPaidPlans),o=(0,c.rV)(n.eligiblePlans,n.userPaidPlans,C);return await (0,a.$Y)({pageId:await (0,h.wd)(e)?w.WG:w.s1,url:(0,r.iO)(e),planIds:(s.length?s.filter(e=>!o.find(t=>t.id===e.id)):l.slice(0,1)).map(e=>e.id),titleText:t("pricing.payment-option.subscription.paid-plan.thank-you.title"),buttonText:t("pricing.payment-option.subscription.paid-plan.thank-you.button-title"),contentText:t("pricing.payment-option.subscription.paid-plan.thank-you.content"),wixCodeApi:e.controllerConfig.wixCodeApi}),{userJoined:!1}}}},23173:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var a=n(10665),s=n(89192),i=n(94760),r=n(95655),l=n(23627);async function o(e,t,n){let o=await (0,l.L)(e);return(await (0,s.U)(e.bi,a.Q3.JOIN_REQUEST_CREATE,async a=>{var s;return null==(s=await (0,r.E)(e,(0,i.mb)({challengeId:o,memberId:e.controllerConfig.wixCodeApi.user.currentUser.id,timeZone:t,startDate:n,actionId:a})))?void 0:s.data})).participant}},93668:(e,t,n)=>{"use strict";n.d(t,{l:()=>E});var a=n(62060),s=n(86245),i=n(51097),r=n(23859),l=n(97945),o=n(25591),u=n(32069),c=n(8500),d=n.n(c),p=n(75075),g=n.n(p),m=n(69111),y=n(66497),f=n(95788),v=n(85742),h=n(44506),w=n(96710),S=n(32769),P=n(31516);let E=d()(async function(e){var t;let n=(0,o.m7)(e.controllerConfig),c=(0,a.iO)(e),d=[];c&&!(0,f.n)(e)&&(d.push((0,s.c)(e)),(0,w.o)(e)&&d.push((0,S.w)(c,e)));let[p,E]=await Promise.all(d),I=(0,o.W2)(n,p);(0,h.A)();let D={user:n,userType:I,isParticipantInSuspendedState:(0,o.W2)(n,p)===u.Uw.SUSPENDED,isParticipantInLockedState:!!(null!=(t=e.environment)&&t.isViewer&&(0,v.H$)(I))&&await (0,m.q)(e),participant:p,participantV3:E,promptLogin:async()=>(0,o.Gu)(e),async join(t,n,a){(0,i.T)(e,D,t,n,a)},async cancelJoinRequest(t){await (0,r.c)(e,t),(0,f.n)(e)||await D.updateParticipant()},leaveProgram:async(t,n)=>(0,y.o)(e,t,n),leaveTheChallenge:async(t,n)=>(0,l._)(e,t,D,n),async incrementParticipantsCompletedStepSummary(){let e=g()(D.participant);return D.updateParticipant((0,P.X)(e))},async updateParticipant(t){let n=await (0,o.gw)(e,t);return Object.entries(n).forEach(e=>{let[t,n]=e;D[t]=n}),e.controllerConfig.setProps(n),n},async updateParticipantLockedState(){var t;let n=D.userType;e.controllerConfig.setProps({isParticipantInLockedState:!!(null!=(t=e.environment)&&t.isViewer&&(0,v.H$)(n))&&await (0,m.q)(e)})},async requestMemberEmail(){let t=await (0,o.qo)(e.controllerConfig);e.controllerConfig.setProps({user:{...n,email:t}})}};return D})},63545:(e,t,n)=>{"use strict";n.d(t,{YN:()=>p,m:()=>g});var a=n(62060),s=n(53001),i=n(59529),r=n(99927),l=n(77243),o=n(26667),u=n(6493),c=n(80978);let d=e=>e.reduce((e,t)=>({...e,...t}),{}),p=async e=>d(await Promise.all(e.filter(e=>null!==e)));async function g(e){let{flowAPI:t}=e,n={...(0,a.Xg)(t),...(0,i.R)(t),...(0,l.h)(t),...(0,o.D)(t),...(0,u.A)(t),...(0,c.m)(t)},p=[(0,s.U)(t),(0,r.T)(t)],g=d(await Promise.all(p));return{...n,...g}}},48288:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var a=n(79191),s=n(95655);async function i(e,t){if(!e)return[];try{var n;return null==(n=await (0,s.E)(t,(0,a.gl)({participantId:e})))||null==(n=n.data)?void 0:n.resolvedSteps}catch(e){return console.error("Failed to request resolved steps",e),[]}}},23450:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var a=n(66870),s=n(95655);async function i(e,t){var n;return null==(n=await (0,s.E)(t,(0,a.v3)(e)))||null==(n=n.data)?void 0:n.step}},872:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var a=n(95655),s=n(79191),i=n(87649);async function r(e,t){var n;return null==(n=await (0,a.E)(t,(0,s.pE)(e)))||null==(n=n.data)?void 0:n.resolvedStep}async function l(e,t){var n;return{step:{id:(n=await r(e,t)).programStepId,transitions:(0,i.HN)(n),quizSubmission:(0,i.GP)(n)}}}},23627:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var a=n(95788),s=n(99927),i=n(60289);async function r(e){try{let t=await (0,i.Wq)(e),n=(null==t?void 0:t.challenge)||null;if((0,a.n)(e))return null;return null==n?void 0:n.id}catch(e){(0,s.H)({error:e,context:"getChallengeId"})}}},90323:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var a=n(99927),s=n(47302),i=n(27800);let r=(e,t,n)=>{var a,s,i,r,l;return{id:t.id,details:{id:t.id,name:t.name,description:(null==e?void 0:e.description)||""},challenges:n.resourceIds,paymentOptions:{price:{amount:null==e||null==(a=e.pricing)||null==(a=a.price)?void 0:a.value,currency:null==e||null==(s=e.pricing)||null==(s=s.price)?void 0:s.currency},additionalFees:(null==(i=e.pricing)||null==(i=i.feeConfigs)?void 0:i.map(e=>{let{fee:t}=e;return t}))??[],recurring:!!(null!=e&&e.pricing.subscription),validFor:{forever:!1,period:{amount:null==e||null==(r=e.pricing)||null==(r=r.subscription)||null==(r=r.cycleDuration)?void 0:r.count,unit:null==e||null==(l=e.pricing)||null==(l=l.subscription)||null==(l=l.cycleDuration)?void 0:l.unit}}},visible:t.visible||!1}},l="WARMUPDATA_ELIGIBLE_ORDERS",o=async e=>{let t=new i.V(e),n=t.get(l);try{var o,u;let a=n||(null==(o=await e.httpClient.get("/_serverless/challenges-web-serverless/get-benefits-list"))?void 0:o.data);return t.set(l,a),((null==a||null==(u=a.benefits)?void 0:u.filter(e=>{let{planInfo:t}=e;return t.status===s.UX.ACTIVE}))||[]).map(e=>{let{planInfo:t,benefit:n}=e,s=a.paidPlans.find(e=>{let{id:n}=e;return n===t.id});return s?r(s,t,n):null}).filter(e=>!!e)}catch(e){(0,a.H)({error:e,context:"loadUserPaidPlans"}),console.error(e)}}},42955:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var a=n(59879);let s=()=>{let e=(0,a.O)();return{eligiblePlans:e.eligiblePlans,userPaidPlans:e.userPaidPlans}}},48240:(e,t,n)=>{"use strict";n.d(t,{KA:()=>p,dF:()=>c,zX:()=>d});var a=n(13638),s=n(90323),i=n(93668),r=n(72888),l=n(85742),o=n(98259);let u=null,c=async e=>{let t=(await (0,i.l)(e)).userType;if(await (0,a.p)(e)||(u={userPaidPlans:[],eligiblePlans:[]}),u)return u;if((0,l.wb)(t))return{userPaidPlans:[],eligiblePlans:[]};try{let[t,n]=await Promise.all([(0,s.a)(e),(0,r.J)(e)]);u={userPaidPlans:t,eligiblePlans:n}}catch(e){console.error(e)}return u},d=async e=>{let t=await c(e);return(0,o.A)(),t},p=()=>{u=null}},72888:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var a=n(93668),s=n(47302),i=n(34338),r=n(23627),l=n(94739),o=n(99927),u=n(27800);let c=e=>{let{planInfo:t}=e;return t.status===s.UX.ACTIVE},d=e=>{var t;return null!=(t=e.memberOrders)&&t.length&&e.memberOrders.forEach(e=>(e.validFrom&&"string"==typeof e.validFrom&&(e.validFrom=e.validFrom.replace(/T.*?Z/,"T00:00:01.000Z")),e)),e},p="WARMUPDATA_ELIGIBLE_ORDERS";async function g(e,t){let n=new u.V(e),s=await (0,a.l)(e);t=t||await (0,r.L)(e);let g=n.get(`${p}_${t}`);if(!t||s.userType===i.bM.VISITOR||(0,l.Hy)(t,e))return[];try{var m,y,f;let a=g||(null==(m=await e.httpClient.get("/_serverless/challenges-web-serverless/get-eligible-orders",{params:{contactId:s.user.id,resourceId:t}}))||null==(m=m.data)?void 0:m.orders);return n.set(`${p}_${t}`,a),[...null==(y=a.memberOrdersByPlan)?void 0:y.filter(c),...null==(f=a.memberFutureOrdersByPlan)?void 0:f.filter(c)].filter(e=>!!e).map(d)}catch(e){return(0,o.H)({context:"getEligibleOrders",error:e}),[]}}},98259:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(13638),s=n(48240),i=n(85032);function r(){(0,i.uJ)({priority:i.U_.SECONDARY,handler:async e=>{await (0,a.p)(e)&&((0,s.KA)(),e.controllerConfig.setProps({...await (0,s.dF)(e)}))}})}},13638:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var a=n(32679);async function s(e){return e.controllerConfig.wixCodeApi.site.isAppSectionInstalled({appDefinitionId:a.Sm,sectionId:a.vC})}},55155:()=>{},67710:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var a=n(19370),s=n(68860),i=n(55061);let r=e=>{var t,n;let r=(0,a.b)(e)&&(null==e||null==(t=e.settings)||null==(t=t.timelineType)||null==(t=t.specific)?void 0:t.startTime)||(0,s.g)(e)&&(null==e||null==(n=e.settings)||null==(n=n.timelineType)||null==(n=n.ongoing)?void 0:n.startTime);return r?(0,i.S4)(r):null}},87071:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var a=n(99927),s=n(47888),i=n(95655);let r=async(e,t,n)=>{let r="";try{if(t){var l;let{invitationLink:{url:n}}=null==(l=await (0,i.E)(e,(0,s.aK)({challengeId:t})))?void 0:l.data;r=n}}catch(e){(0,a.H)({error:e,context:"getInvitationLink",muteError:!0,preventErrorMonitorReport:!0})}return r||`https://apps.wix.com/place-invites/join-lp/${n}`}},57373:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});let a=e=>{var t;return null==e||null==(t=e.settings)||null==(t=t.seo)?void 0:t.imageAlt}},31516:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(39830);function s(e,t){if(e){if((0,a.$_)(e))throw Error("Not implemented");return null!=e&&e.stepsSummary&&(e.stepsSummary.completedStepsNumber=e.stepsSummary.completedStepsNumber+1),e}}},39830:(e,t,n)=>{"use strict";function a(e){return(null==e?void 0:e.revision)!==void 0}function s(e){var t;return a(e)?e.state:null==e||null==(t=e.transitions)||null==(t=t[0])?void 0:t.state}function i(e){var t;if(a(e)){let{joinedOptions:t,createdDate:n}=e;return(null==t?void 0:t.startDate)||new Date(n).toISOString()}return null==(t=e.dateFrame)?void 0:t.start}n.d(t,{$_:()=>a,Gu:()=>s,tq:()=>i})},25585:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var a=n(87649),s=n(67710),i=n(51465);function r(e){let{sections:t,resolvedSteps:n,challenge:r,dateFrame:l}=e,o=new Map(n.map(e=>[e.programStepId,e])),u=(0,i.u)(r)?new Date(l.start):(0,s.t)(r),c=t.map(e=>{let t=e.steps.map(e=>{let t=o.get(e.id);return(0,a.Ok)({step:e,resolvedStep:t,dateFrame:u?void 0:l,initialDate:u})});return{id:e.id,source:e,steps:t}}),d=c.flatMap(e=>e.steps);return{sections:c,steps:d}}},7624:(e,t,n)=>{"use strict";n.d(t,{T:()=>c});var a=n(54539),s=n(45865),i=n(53316);let r=e=>{if(!e)return null;let{transitions:t}=e,n=(0,a.A)(new Date(t[0].occurredAt),"d-MM-yyyy");return 1===t.length?{lastMod:n,created:n}:{lastMod:n,created:(0,a.A)(new Date(t[t.length-1].occurredAt),"d-M-yyyy")}},l=e=>{var t,n;if(!e)return null;let a=null==(t=e.settings.pricing)||null==(t=t.singlePayment)||null==(t=t.price)?void 0:t.currency;return{...a&&{currency:a},price:(null==(n=e.settings.pricing)||null==(n=n.singlePayment)||null==(n=n.price)?void 0:n.amount)||"0"}},o=(e,t)=>{var n,a,s,r,l,o;if(!e)return null;let{media:u}=e.settings.description;if(null!=u&&null!=(n=u.image)&&n.id){let n=null!=u&&null!=(a=u.image)&&a.width?null==u||null==(s=u.image)||null==(s=s.width)?void 0:s.toString():"800",c=null!=u&&null!=(r=u.image)&&r.height?null==u||null==(l=u.image)||null==(l=l.height)?void 0:l.toString():"600";return{mainImage:{id:null==u||null==(o=u.image)?void 0:o.id,width:n,height:c,url:t?(0,i.z)(u,800,600):null,imageAlt:e.settings.seo.imageAlt||""}}}return null},u=e=>e?"SECRET"===e.settings.accessRestrictions.accessType?"PRIVATE":e.settings.accessRestrictions.accessType:"SECRET";function c(e,t,n){var a,i,c;void 0===n&&(n="CHALLENGES_PAGE");let{isViewer:d}=e.environment;if(!d)return;let{wixCodeApi:p}=e.controllerConfig,g=p.seo;t||g.renderSEOTags({itemType:n,itemData:null,seoData:null});let{url:m,query:y}=p.location,f=y.shareTitle,v=e.experiments.enabled(s.N.enableProgramFieldSEOMetatags),h=e.experiments.enabled(s.N.enableImageUrlFieldSEOMetatags),w=t?f?decodeURIComponent(f):null==(a=t.settings)||null==(a=a.description)?void 0:a.title:null,S=t?null==(i=t.settings)||null==(i=i.description)?void 0:i.details:null,P={challenge:{id:(null==t?void 0:t.id)||null,...r(t)||{},url:m,name:w||null,...S&&{description:S},registration:{availability:u(t),...l(t)||{}},...o(t,h)||{}},program:v?t:void 0};g.renderSEOTags({itemType:n,itemData:P,seoData:null==t||null==(c=t.settings)||null==(c=c.seo)?void 0:c.seoData})}},27800:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var a=n(89929),s=n.n(a);class i{constructor(e){s()(this,"_warmupData",void 0),s()(this,"flowApi",void 0),this.flowApi=e,this._warmupData=e.controllerConfig.wixCodeApi.window.warmupData}get(e){let t=this.flowApi.experiments.enabled("specs.programs.OOIDisableWarmupData");return this.flowApi.environment.isSSR||t?void 0:this._warmupData.get(e)}set(e,t){!this.flowApi.experiments.enabled("specs.programs.OOIDisableWarmupData")&&this.flowApi.environment.isSSR&&this._warmupData.set(e,t)}}},97820:(e,t,n)=>{"use strict";function a(e){return function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];try{return e(...a)}catch{return t(...a)}}(btoa,s,JSON.stringify(e))}function s(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,i))}function i(e){return String.fromCharCode(parseInt(e.slice(1),16))}n.d(t,{WG:()=>a})},7309:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(41423),s=n(7273);function i(e,t,n,i,r){void 0===n&&(n=[]),void 0===i&&(i=!1),void 0===r&&(r=!0);let l=e.settings.pricing,o=(0,s.rV)(n||[],t||[],null==e?void 0:e.id),u=((i?(0,a.iG)(e.id,t):(0,a.AU)(e.id,t))||[]).filter(e=>!!r||!o.find(t=>t.id===e.id)),c=(0,a.cB)(l,u.length),d=!!l.singlePayment,p=u.length;return{challengePaidPlans:u,isFree:c,isHasSinglePayment:d,isHasPaidPlans:p}}},29594:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var a=n(34942);let s=()=>{let{dimensions:e,isEditorX:t}=(0,a.v)();return!t&&("100%"===String(e.width)||""===String(e.width))}},82809:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});let a=async(e,t,n,a)=>{let{site:s}=a.controllerConfig.wixCodeApi;if(a.environment.isEditor)return!1;try{let a=await s.getPublicAPI("14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9");return!!await a.getSectionUrl({widgetId:n,appDefinitionId:e,sectionId:t})}catch(e){return console.error(e),!1}}},830:(e,t,n)=>{"use strict";n.d(t,{$Y:()=>r});var a=n(16252),s=n(97820),i=n(67506);let r=e=>{let{pageId:t,planIds:n,url:r,titleText:l,buttonText:o,contentText:u,wixCodeApi:c}=e,d={planIds:n.join(","),navigateToSectionProps:(0,s.WG)({sectionId:t,appDefinitionId:i.G,state:r,shouldRefreshIframe:!0})};try{d.verticalStatusContent=(0,s.WG)({titleText:l,buttonText:o,contentText:u})}catch(e){console.error(e)}let p="";(0,a.isEmpty)(d)||(p=`?appSectionParams=${encodeURIComponent(JSON.stringify(d))}`);let g=function(e){try{return e.site.getSiteStructure().pages.find(e=>"1522827f-c56c-a5c9-2ac9-00f9e6ae12d3"===e.applicationId).url||""}catch(e){return console.error("[challenges]Paid plans page is not installed"),""}}(c);return c.location.to(`${g}${p}`)}},47312:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});let a=({year:e,month:t,day:n})=>new Date(e,t-1,n,0,0,0,0)},81804:(e,t,n)=>{"use strict";n.d(t,{K:()=>o,N:()=>r});var a=n(29980),s=n(32016),i=n(41423);let r=(e,t)=>!e&&t.length&&!t.find(i.K3),l=["NZD","CAD"],o=e=>{if(!e||!e.singlePayment)return"";if(!l.includes(e.singlePayment.price.currency.toLocaleUpperCase())&&(0,a.uv)())return(0,a.vv)({currency:e.singlePayment.price.currency,value:e.singlePayment.price.amount});let t=(0,s.M)(e.singlePayment.price.currency),n=(0,i.lN)(e);return`${t}${n}`}},54491:(e,t,n)=>{"use strict";n.d(t,{Fi:()=>c});var a=n(80368),s=n(47312),i=n(39387),r=n(6845);let l=e=>e.ongoing?(0,s.o)(e.ongoing.startTime):null,o=e=>e.specific?(0,s.o)(e.specific.startTime):null,u=e=>{if(!e.specific)return null;let{startTime:{year:t,month:n,day:i},duration:{unit:l,value:o}}=e.specific;return l===r.lZ.DAYS?(0,a.A)((0,s.o)({year:t,month:n,day:i}),Number(o)-1):new Date(t,n-1,Number(i)+7*Number(o)-1,0,0,0,0)},c=(e,t,n,a,s,c,d)=>{switch(Object.keys(e)[0]){case"ongoing":return n(a,{date:(0,i.I)(l(e),t)});case"flexible":case"selfPaced":let p=e?.flexible?.duration||e?.selfPaced?.duration,g=p?.value?String(p?.value):null;return g?n(p?.unit===r.lZ.DAYS?s:c,{count:g}):d?n(d):"";case"specific":return`${(0,i.I)(o(e),t)} - ${(0,i.I)(u(e),t)}`;default:return""}}},32016:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});let a=e=>e?s[e.toUpperCase()]||e:"",s={AED:"ÿØ.ÿ•",AFN:"ÿã",ALL:"L",AMD:"÷è",ANG:"∆í",AOA:"Kz",ARS:"$",AUD:"$",AWG:"∆í",AZN:"‚Çº",BAM:"KM",BBD:"$",BDT:"‡ß≥",BGN:"–ª–≤",BHD:".ÿØ.ÿ®",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BOV:"BOV",BRL:"R$",BSD:"$",BTC:"‚Çø",BTN:"Nu.",BWP:"P",BYN:"Br",BYR:"Br",BZD:"BZ$",CAD:"CA$",CDF:"FC",CHE:"CHE",CHF:"CHF",CHW:"CHW",CLF:"CLF",CLP:"$",CNY:"¬•",COP:"$",COU:"COU",CRC:"‚Ç°",CUC:"$",CUP:"‚Ç±",CVE:"$",CZK:"Kƒç",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"ÿØÿ¨",EEK:"kr",EGP:"¬£",ERN:"Nfk",ETB:"Br",ETH:"Œû",EUR:"‚Ç¨",FJD:"$",FKP:"¬£",GBP:"¬£",GEL:"‚Çæ",GGP:"¬£",GHC:"‚Çµ",GHS:"GH‚Çµ",GIP:"¬£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"‚Ç™",IMP:"¬£",INR:"‚Çπ",IQD:"ÿπ.ÿØ",IRR:"Ô∑º",ISK:"kr",JEP:"¬£",JMD:"J$",JOD:"JD",JPY:"¬•",KES:"KSh",KGS:"–ª–≤",KHR:"·üõ",KMF:"CF",KPW:"‚Ç©",KRW:"‚Ç©",KWD:"KD",KYD:"$",KZT:"‚Ç∏",LAK:"‚Ç≠",LBP:"¬£",LKR:"‚Ç®",LRD:"$",LSL:"M",LTC:"≈Å",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"–¥–µ–Ω",MMK:"K",MNT:"‚ÇÆ",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"‚Ç®",MVR:"Rf",MWK:"MK",MXN:"$",MXV:"MXV",MYR:"RM",MZN:"MT",NAD:"$",NGN:"‚Ç¶",NIO:"C$",NOK:"kr",NPR:"‚Ç®",NZD:"NZ$",OMR:"Ô∑º",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"‚Ç±",PKR:"‚Ç®",PLN:"z≈Ç",PYG:"Gs",QAR:"Ô∑º",RMB:"Ôø•",RON:"lei",RSD:"–î–∏–Ω.",RUB:"‚ÇΩ",RWF:"R‚Ç£",SAR:"Ô∑º",SBD:"$",SCR:"‚Ç®",SDG:"ÿ¨.ÿ≥.",SEK:"kr",SGD:"S$",SHP:"¬£",SLL:"Le",SOS:"S",SRD:"$",SSP:"¬£",STD:"Db",STN:"Db",SVC:"$",SYP:"¬£",SZL:"E",THB:"‡∏ø",TJS:"SM",TMT:"T",TND:"ÿØ.ÿ™",TOP:"T$",TRL:"‚Ç§",TRY:"‚Ç∫",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"‚Ç¥",UGX:"USh",USD:"$",UYI:"UYI",UYU:"$U",UYW:"UYW",UZS:"–ª–≤",VEF:"Bs",VES:"Bs.S",VND:"‚Ç´",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"…É",XCD:"$",XOF:"CFA",XPF:"‚Ç£",XSU:"Sucre",XUA:"XUA",YER:"Ô∑º",ZAR:"R",ZMW:"ZK",ZWD:"Z$",ZWL:"$"}},39387:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});let a=(e,t)=>e?new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric"}).format(e):""},79158:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var a=n(91304),s=n.n(a);let i=({url:e,width:t,height:n},{maxWidth:a=1e3,maxHeight:i=1e3,quality:r=90,type:l="fit",format:o="webp",blur:u=0}={})=>{if(e){if(e.startsWith("http")&&!e.includes("static.wixstatic.com"))return e;if(e.endsWith(".svg"))return`https://static.wixstatic.com/${e}`;let[c,d]=[Math.floor(s()([a,t])),Math.floor(s()([i,n]))],p=u>0?`blur_${u},`:"",g=e.startsWith("https://static.wixstatic.com")?e:`https://static.wixstatic.com/${e}`;return`${g}/v1/${l}/w_${c},h_${d},${p}al_c,q_${r}/file.${o}`}return""}},60745:(e,t,n)=>{"use strict";n.d(t,{BO:()=>r,Qn:()=>i,gp:()=>s});var a=n(32069);let s=e=>!function(e){return e.transitions[0].state===a.Zy.RUNNING&&e.quizSubmission?.quizSubmissionId}(e)?e:{...e,transitions:[{state:a.Zy.FAILED,occurredAt:e.transitions[0].occurredAt},...e.transitions]};function i(e){return e.map(s)}function r(e){return e.map(e=>({...e,steps:i(e.steps)}))}}}]);
//# sourceMappingURL=641.chunk.min.js.map